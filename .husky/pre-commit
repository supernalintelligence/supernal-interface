#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks..."

# Check for staged files
if git diff --cached --quiet; then
  echo "No staged changes to check"
  exit 0
fi

# Run lint-staged if available, otherwise run basic checks
if command -v npx >/dev/null 2>&1; then
  echo "📝 Running lint-staged..."
  cd core && npx lint-staged
else
  echo "⚠️  lint-staged not available, running basic lint check..."
  cd core && npm run lint
fi

